<%= render 'shared/header' %>

<main>
  <div class="page show">
    <%= render 'shared/back' %>
    <!-- TODO: add info explaining why you can't edit title -->

    <div class="indv-post">
      <div class="postinfo">
        <div class="posttitle"><%= @post.title %></div>
        <p>Rating: <b><%= @post.rating > 0 ? "#{@post.rating.to_f / 10} stars" : "[unrated]" %></b></p>
      </div>
    </div>

    <%= form_with model: @post, class: "post-form" do |f| %>
      <div class="field">
        <%= f.label :url, "URL" %><br>
        <%= f.text_field :url, placeholder: "Link another place this topic is listed" %>
      </div>

      <div class="field">
        <%= f.label :desc, "Description" %><br>
        <%= f.text_area :desc, placeholder: "Describe it in a few sentences" %>
      </div>

      <%= f.hidden_field :rating %>

      <p>Remember to describe your topic thoroughly and neutrally.</p>

      <div class="field">
        <%= f.submit "Update Post", class: "form-submit" %>
      </div>
    <% end %>
  </div>

  <div class="sidebar">
    <%= render 'shared/sidebar' %>
  </div>
</main>
